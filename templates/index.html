<!DOCTYPE html>
<html lang="multi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Les Barques</title>
    <style>
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeInUp {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeInOut {
            0% { opacity: 0; }
            50% { opacity: 1; }
            100% { opacity: 0; }
        }

        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }

        /* Base styles */
        body {
            position: relative;
            min-height: 100dvh;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-family: Garamond, serif;
        }

        /* Background with fade in effect */
        body::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('{{ image }}');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            z-index: -1;
            animation: fadeIn 5s ease-in-out;
        }

        main {
            position: absolute;
            max-width: 300px;
            max-height: 300px;
            text-align: left;
        }

        p, blockquote {
            font-size: 15px;
        }

        img {
            width: 100%;
            height: auto;
        }

        /* Audio player */
        .audio-container {
            position: absolute;
            top: 3vh;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        audio {
            width: 80vw;
            opacity: 0.95;
            background-color: rgba(0, 0, 0, 0);
            color: white;
            border: none;
            border-radius: 5px;
        }

        .audio-filename {
            font-size: 0;
            height: 0;
            margin: 0;
            padding: 0;
        }

        /* Bottom information panel */
        .bottom-panel {
            position: fixed;
            left: 0;
            bottom: 0px;
            width: 100%;
            transition: height 1s ease;
            animation: fadeIn 2s ease-in-out;
        }

        #panelContent {
            font-size: 15px;
            text-align: center;
            padding: 4px;
            height: 3.5rem;
            width: 100%;
            transition: height 1s ease;
            overflow: hidden;
            background-color: rgba(0, 0, 0, 0.7);
            box-sizing: border-box;
        }

        .expanded #panelContent {
            height: 90vh;
            overflow-y: auto;
        }

        /* Toggle button */
        .toggle-button-circle {
            font-size: 30px;
            border: none;
            text-align: center;
            position: absolute;
            right: 20px;
            bottom: 10px;
            height: 40px;
            width: 40px;
            background-color: rgba(0, 0, 0, 0);
            color: white;
            z-index: 5;
            animation: fadeInOut 3s infinite;
        }
        .pointer {
          cursor: pointer;
         }
        
     /* Modal classes */
        .modal {
  display: none; /* Hidden by default */
  position: center; /* Stay in place */
  z-index: 6;
  width: 98dvw;
  height: 98dvh;
  overflow: auto; /* Enable scroll if needed */
  background-color: transparent; /* Fallback color */

}

/* Modal Content */
.modal-content {
  background-image: url('{{ image }}');
  background-size: auto;
  width: 98dvw;
  height: 98dvh;
}

/* The Close Button */
.close {
  color: #aaaaaa;
  float: right;
  font-size: 28px;
  font-weight: bold;
}

.close:hover,
.close:focus {
  color: #000;
  text-decoration: none;
  cursor: pointer;
}
        

        /* Animation classes */
        .fadeInUp-animation {
            animation: fadeInUp 7s;
        }

        .fadeInOut-animation {
            animation: fadeInOut 3s infinite;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .toggle-button {
                right: 10px;
                bottom: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="audio-container fadeInUp-animation">
        <audio id="audioPlayer" controls controlsList="nodownload">
            <source src="{{ audio }}" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>
    </div>

     <button id="togglebuttoncircle" class="toggle-button-circle fadeInOut-animation pointer">◯</button>
    
    <div id="bottomPanel" class="bottom-panel">
        <div id="panelContent">
            <p style="font-size: 17px;"><span id="toggleButtontriangle" class="fadeInOut-animation pointer">▲</span> Les Barques</p>

            <div id="expandedContent">
                <p id="datetime"></p>

                <blockquote>
                    Journal : <br>
                    <em>{{ text }}</em>
                </blockquote>

                <br> ---  <br><br>

                FR . Chaque jour, un enregistrement, une photographie et une entrée de journal, <br>
                sélectionnés au hasard dans une archive fluide comme la mémoire. <br>
                Une arche des étrangetés divisée en une multitude d'embarcations chancelantes. <br>
                <br>

                IT . Ogni giorno, una registrazione, una fotografia e un estratto di quaderno, <br>
                selezionati casualmente da un archivio fluido come la memoria. <br>
                Un'arca di stranezza divise in una moltitudine di barche vacillanti. <br>
                <br>

                EN . Each day, a recording, a photograph, and a journal entry, <br>
                randomly selected from an archive fluid as memory itself. <br>
                An ark of strangeness divided into a multitude of tottering boats. <br>
                <br>

                GR . Κάθε μέρα, μια ηχογράφηση, μια φωτογραφία και ένα απόσπασμα από ένα σημειωματάριο, <br>
                επιλεγμένα τυχαία από ένα αρχείο τόσο ρευστό όσο η μνήμη. <br>
                Μια κιβωτός παραξενιάς χωρισμένη σε ένα πλήθος από τρανταχτές βάρκες. <br>
                <br>

                عربي . كل يوم تسجيل وصورة ومقتطف من دفتر ملاحظات
                تم اختيارها عشوائيًا من أرشيف سائل مثل الذاكرة <br>
                سفينة الغرابة انقسمت إلى عدد كبير من القوارب المهتزة  <br>
                <br><br>

                ---  <br><br>

                Les Barques, Le Barche, The Barques, τις βάρκες , القوارب  <br><br>

                Abou Ali, Aicha Mansouri, Ali Dehan, Alia Dhahri, Ammar, Anna Maria Civico, Anna Rosetti, Antoine Loyer, Arafat Sadallah, Arthur Chambri, Aydın Çıracıoğlu, Brahim Bouslahi, Mohamed Znaidi, Rai Uno, Chafik Dammak, Chamseddine Zitouni, Chiara Vigo, Claudia Gianotta, Cristina Vetrone, Davide Russo, Dori Rosetti, Economat Redeyef, El Haj, Emmanuelle Nizou, Fanny George, Frode Bjornstad, Gaml, Giaccomo Parmeggiani, Giovanna Turco, Giuseppe Campa, Gruppo Città di Trapani, Guillaume Maupin, Hadra Tamerza, Haythem Ben Bousaha, Haythem Zakaria, Jean-François Favreau, Jeanne Marti, Joske Malbeek, Laid Bouoni, Léo Rump, Lise Barkas, Loto Retina, Loup Uberto, Lucas Ravinale, Luigi de Santis, Lukas De Clerck, Manuel Pueyo, Maria Rita Piga, Mario Gabola, Marwan Akrouti, Massoud Mansouri, Maxime Lacôme, Mondine di Bentivoglio, Nabina Gelezi, Nathalie Guida, Nicola Rosetti, Noemi, Okacha Ben Salah, Paola Magurano, Pietro Romito, Rabia Ezzedini, Radio Hito, Raïuno, Rhili Mohamed, Rochdy Machouch, Rosaria Cista, Saad Tabbabi, Salah Oucheti, Salah Tabbabi, Salvatore Urso, Scusciati, Simon Rummel, Soledad Zarka, Tahar Ezzedini, Tenore di Oliena, Vicenzo Lipari, Violeta Lopez Lopez, Yagoutha Belgacem, Yasmina Znaidi, Zaouia de Redeyef
            </div>
        </div>
    </div>

  
<!-- The Modal -->
<div id="modal" class="modal">

  <!-- Modal content -->
  <div class="modal-content"> 
    <span class="close">&times;</span>
                      </div>
      
  </div>

    <script>
        
        // Modal
var modal = document.getElementById("modal");
var btn = document.getElementById("togglebuttoncircle");
var span = document.getElementsByClassName("close")[0];
      // When the user clicks the button, open the modal 
btn.onclick = function() {
  modal.style.display = "block";
}
// When the user clicks on <span> (x), close the modal
span.onclick = function() {
  modal.style.display = "none";
}
// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}
        
        // Set current date and time
        document.addEventListener('DOMContentLoaded', function() {
            var now = new Date();
            var datetime = now.toLocaleString();
            document.getElementById("datetime").innerHTML = datetime;

            // Toggle panel expansion
            var panel = document.getElementById('bottomPanel');
            var button = document.getElementById('toggleButtontriangle');
            var audioControl = document.getElementById('audioPlayer');

            button.addEventListener('click', function() {
                panel.classList.toggle('expanded');

                // Change button text based on state
                if(panel.classList.contains('expanded')) {
                    button.textContent = '▼'; // Change to X when expanded
                } else {
                    button.textContent = '▲'; // Change back to circle when collapsed
                }
            });

            // Audio controls functionality
            audioControl.addEventListener('play', function() {
                // You can add behaviors when audio plays
            });

            audioControl.addEventListener('pause', function() {
                // You can add behaviors when audio pauses
            });
        });
    </script>
</body>
</html>
